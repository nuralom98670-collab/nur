<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Edit Product • Admin • RoboticsLeb</title>
  <link rel="stylesheet" href="../assets/css/theme.css" />
  <link rel="stylesheet" href="../assets/css/dashboard.css" />
</head>
<body>
  <div class="dashboard">
    <aside class="sidebar">

      <div class="brand">
        <div class="dot"></div>
        <div>
          <h1>RoboticsLeb</h1>
          <p>Admin Panel</p>
        </div>
      </div>


      <nav class="nav" aria-label="Admin navigation">
        <a href="./dashboard">Dashboard</a>

        <div class="group">Shop</div>
        <a href="./products">Products</a>
        <a href="./orders">Orders</a>
        <a href="./users">Customers</a>

        <div class="group">Content</div>
        <a href="./posts">Posts</a>

        <div class="group">Services</div>
        <a href="./services">Services / Servers</a>

        <div class="group">Taxonomy</div>
        <a href="./categories">Categories</a>
        <a href="./tags">Tags</a>

        <div class="group">Inbox</div>
        <a href="./messages">Messages</a>

        <div class="group">System</div>
        <a href="./settings">Settings</a>
        <a href="./profile">Profile</a>
        <a href="#" data-logout>Logout</a>
      </nav>

    </aside>

    <main class="main">
      <div class="topbar">
        <input class="input search" placeholder="Search..." aria-label="Search dashboard" />
        <div class="actions">
          <span class="badge" id="notifBadge">Notifications • 0</span>
          <div data-userbox></div>
        </div>
      </div>

      <div class="content">
        <div class="pagehead">
          <div>
            <h2>Edit Product</h2>
            <div class="muted">Update product info</div>
          </div>
          <div class="pagehead-actions"><a class="btn" href="./products">Back</a></div>
        </div>

        <div class="hr"></div>

        
<section class="card">
  <div class="card-head"><h3>Edit</h3><span class="badge" id="productIdBadge">—</span></div>
  <div class="hr"></div>
  <form id="productForm" class="grid two" style="padding:12px;">
    <div style="grid-column:1/-1;">
      <label class="muted">Name</label>
      <input class="input" name="name" required />
    </div>
    <div>
      <label class="muted">Price</label>
      <input class="input" name="price" type="number" step="0.01" required />
    </div>
    <div>
      <label class="muted">Discount Price (optional)</label>
      <input class="input" name="discountPrice" type="number" step="0.01" placeholder="0" />
      <div class="muted" style="padding-top:6px;">If set, it will show as sale price on shop/product page.</div>
    </div>
    <div>
      <label class="muted">Stock</label>
      <input class="input" name="stock" type="number" step="1" required />
    </div>
    <div style="grid-column:1/-1;">
      <label class="muted">Shop Category</label>
      <select class="input" name="categoryKey" id="categorySelect">
        <option value="">— Select —</option>
      </select>
      <input type="hidden" name="categoryLabel" id="categoryLabel" />
      <div class="muted" style="padding-top:6px;">Only “Shop” type categories show here.</div>
    </div>
    <div style="grid-column:1/-1;">
      <label class="muted">Description</label>
      <textarea class="input" name="desc" rows="6"></textarea>
    </div>

    <div style="grid-column:1/-1;">
      <label class="muted">Product Images (add one-by-one) — Daraz style</label>
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
        <input class="input" id="galleryFiles" type="file" accept="image/*" multiple />
        <button class="btn" id="addMoreImages" type="button">Add more images</button>
        <button class="btn" id="clearImages" type="button">Clear new uploads</button>
      </div>
      <div class="muted" style="font-size:12px; margin-top:6px;">Select an image → it will be added. Then click “Add more images” to upload the next one. First image becomes the main image. You can also click an existing image to set main (then Save).</div>
      <div id="galleryPreview" style="margin-top:10px; display:grid; grid-template-columns: repeat(auto-fill,minmax(120px,1fr)); gap:10px;"></div>
      <div class="muted" style="margin-top:8px;">Existing images (click one to make main):</div>
      <div id="existingGallery" style="margin-top:10px; display:grid; grid-template-columns: repeat(auto-fill,minmax(120px,1fr)); gap:10px;"></div>
    </div>

    <div style="grid-column:1/-1; display:flex; gap:10px; align-items:center;">
      <button class="btn primary" type="submit">Update</button>
      <span class="muted" id="status"></span>
    </div>
  </form>
</section>

      </div>
    </main>
  </div>

  <script type="module" src="../assets/js/pages/admin-product-edit.js"></script>
</body>
</html>
